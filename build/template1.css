/* ===========
   Base Reset
   =========== */
html,
body {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 1.3rem;
  margin: 1.3rem auto;
  max-width: 1200px;
  padding: 0 0.3rem;

  font-family: "Fira Code", monospace;
  line-height: 1.6;
  background-color: #f9f9fb;
  color: #222;
}

/* ===========
   Page Layout
   =========== */
article {
  max-width: 800px;
  flex: 1;
  background: #fff;
  padding: 2.2rem;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.05);
}

/* ===========
   Headings
   =========== */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Noto Sans", "Helvetica Neue", Arial, sans-serif;
  line-height: 1.3;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
}

h1 {
  font-size: 2em;
  border-bottom: 3px solid #ddd;
  padding-bottom: .3em;
}

h2 {
  font-size: 1.6em;
  border-bottom: 2px solid #eee;
  padding-bottom: .2em;
}

h3 {
  font-size: 1.3em;
  color: #333;
}

h4,
h5,
h6 {
  font-size: 1.1em;
  color: #444;
}

/* ===========
   Paragraphs
   =========== */
p {
  margin: 1em 0;
  text-align: justify;
}

/* ===========
   Links
   =========== */
a {
  color: #0077cc;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* ===========
   Blockquotes
   =========== */
blockquote {
  border-left: 4px solid #ddd;
  padding-left: 1em;
  color: #555;
  margin: 1.2em 0;
  background: #fafafa;
  /* font-style: italic; */
}

/* ===========
   Lists
   =========== */
ul,
ol {
  margin: 1em 0 1em 0.5em;
}

li {
  margin-bottom: 0.3em;
}

/* ===========
   Code
   =========== */
code {
  font-family: "Fira Code", "Consolas", monospace;
  background: #f3f3f3;
  padding: 0.2em 0.4em;
  border-radius: 4px;
  font-size: 0.95em;
}

pre {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 1em;
  border-radius: 8px;
  overflow-x: auto;
  font-family: "Fira Code", "Consolas", monospace;
  font-size: 0.9em;
  line-height: 1.5;
}

pre code {
  background: none;
  color: inherit;
  padding: 0;
  font-size: inherit;
}

/* Syntax highlight fallback (if not using highlight.js) */
code.language-python {
  color: #ffb86c;
}

code.language-javascript {
  color: #8be9fd;
}

code.language-html {
  color: #50fa7b;
}

code.language-bash {
  color: #f1fa8c;
}

/* ===========
   Tables
   =========== */
table {
  border-collapse: collapse;
  width: 100%;
  margin: 1.5em 0;
  font-size: 0.95em;
}

thead {
  background: #f0f0f0;
  border-bottom: 2px solid #ccc;
}

th,
td {
  border: 1px solid #ddd;
  padding: 0.6em 0.8em;
  text-align: left;
}

tbody tr:nth-child(even) {
  background: #f9f9f9;
}

/* ===========
   Footnotes
   =========== */
.footnotes {
  font-size: 0.9em;
  border-top: 1px solid #ddd;
  margin-top: 3em;
  padding-top: 1em;
}

.footnotes ol {
  margin-left: 1.2em;
}

/* ===========
   Horizontal Rule
   =========== */
hr {
  border: none;
  border-top: 2px solid #eee;
  margin: 2em 0;
}

/* ===========
   Images
   =========== */
img {
  max-width: 100%;
  display: block;
  margin: 1em auto;
  border-radius: 6px;
}

/* ===========
   Math (MathJax or KaTeX)
   =========== */
.math {
  font-family: "Latin Modern Math", "STIX Two Math", serif;
  font-size: 1em;
}

/* ===========
   Custom Divs (Pandoc fenced divs)
   =========== */
div.note,
div.tip,
div.warning {
  border-left: 5px solid;
  padding: 0.8em 1em;
  margin: 1em 0;
  border-radius: 4px;
}

div.note {
  border-color: #4a90e2;
  background: #eef4fb;
}

div.tip {
  border-color: #50c878;
  background: #f0fbf4;
}

div.warning {
  border-color: #ffb84d;
  background: #fff9f0;
}

/* ===========
   Headers & Footers (if used)
   =========== */
header,
footer {
  text-align: center;
  color: #777;
  font-size: 0.9em;
  margin-top: 2em;
}

header p {
  text-align: center;
  display: inline;
}

/* nav */
/* --- 左侧目录（推荐） --- */
nav {
  flex: 0 0 260px;                       /* 固定列宽（占据左列） */
  min-width: 200px;
  max-width: 320px;

  background: #fff;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(17,17,18,0.06);
  padding: 1rem 0.9rem;
  box-sizing: border-box;

  /* sticky 行为（上方间隙恒定） */
  position: sticky;
  top: 1rem;

  /* 不要用 height:100vh - 会导致溢出，使用 max-height 更稳 */
  height: calc(100vh - 2rem);        /* 保证上下各 2rem 空隙 */
  overflow-y: auto;                      /* 内容超出可滚动 */

  /* 可选：给滚动条更好看的样式（WebKit）*/
  scrollbar-width: thin;
}
nav::-webkit-scrollbar { width: 10px; }
nav::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.08);
  border-radius: 8px;
}
nav::-webkit-scrollbar-track { background: transparent; }

/* nav 内部列表样式 */
nav ul {
  list-style: none;
  margin: 0;
  padding: 0.4rem 0.6rem;
}
nav li { margin: 0.35rem 0; }

/* 链接样式 */
nav a {
  display: block;
  padding: 0.45rem 0.6rem;
  color: #25406a;
  text-decoration: none;
  border-radius: 6px;
  font-size: 0.95rem;
  line-height: 1.4;
  transition: background .15s, color .15s, transform .06s;
}
nav a:hover,
nav a:focus {
  background: rgba(37,64,106,0.06);
  color: #12213a;
  outline: none;
}
nav a.active {
  background: linear-gradient(90deg,#eaf3ff,#fff);
  border-left: 3px solid #3b82f6;
  padding-left: 0.45rem;    /* 适配左侧边框 */
  color: #0b3a8a;
  font-weight: 600;
}

/* 支持多级目录的缩进 */
nav ul ul {
  position: relative;
  margin-left: 0.6rem;
  padding-left: 0.9rem;
  border-left: none; /* 取消原生边框 */
}

nav ul ul::before {
  content: "";
  position: absolute;
  left: 0.35rem;           /* 线离子项的距离 */
  top: 0.4rem;
  bottom: 0.4rem;
  width: 0;                /* 线用边框画或背景画 */
  border-left: 2px dashed rgba(37,64,106,0.12);
  border-radius: 2px;
}

/* 小屏幕适配：把 nav 放到上方并取消 sticky */
@media (max-width: 900px) {
  body { flex-direction: column; align-items: stretch; } /* 如果你用 body flex */
  nav {
    position: static;
    width: 100%;
    max-width: none;
    margin-bottom: 1rem;
    border-radius: 8px;
    max-height: none;
    overflow: visible;
  }
}