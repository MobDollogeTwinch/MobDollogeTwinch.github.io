---
title: "C++中不是对象类型的类型"
author: "mob_dolloge"
date: "2025-10-24"
status: "已完成"
---

## 🧩 一、对象类型（object type）

👉 能够在内存中“占据空间”的类型。
你可以**定义变量**、**取地址**、**存储在容器中**的类型。

包括：

* **基本类型**：`int`, `double`, `char`, `bool` ...
* **枚举类型**：`enum`
* **类类型**：`struct`, `class`, `union`
* **数组类型**：`int[10]`（虽然不能拷贝，但仍是对象类型）
* **指针类型**：`int*`, `void*`
* **引用包装类**（比如 `std::reference_wrapper<T>`）

✅ 都可以这样定义对象：

```cpp
int a;          // 基本类型
int arr[3];     // 数组
struct S {} s;  // 类类型
int* p = &a;    // 指针
```

---

## 🚫 二、非对象类型（non-object type）

👉 **不能独立定义对象或实例**的类型。
这些类型只存在于**类型系统层面**（比如函数声明、模板参数等）。

主要包括：

| 类型               | 说明                    | 示例                                  |
| ---------------- | --------------------- | ----------------------------------- |
| **函数类型**         | 代表函数本身的类型，但不能定义函数“变量” | `int(int, double)`                  |
| **引用类型**         | 引用不是对象，而是别名           | `int&`, `const T&`                  |
| **`void` 类型**    | 表示“无类型”               | `void`                              |
| **抽象类类型**（带纯虚函数） | 不能直接实例化               | `struct A { virtual void f()=0; };` |

---

### 🔹 例子 1：函数类型不是对象类型

```cpp
int func(int a, int b) { return a + b; }

// ❌ 错误：函数类型不是对象类型
int(int, int) fobj; // 编译错误

// ✅ 正确：函数指针是对象类型
int (*pf)(int, int) = func;
```

---

### 🔹 例子 2：引用类型不是对象类型

```cpp
int x = 10;
int& ref = x;

// ❌ 错误：不能定义一个“引用的引用对象”
int& r; // 编译错误，引用必须绑定到已有对象
```

引用只是对象的别名，不占用独立的内存。

---

### 🔹 例子 3：`void` 不是对象类型

```cpp
void v; // ❌ 错误：void 不是对象类型
```

`void` 表示“没有类型”，用于函数返回值或指针 `void*`。

---

### 🔹 例子 4：抽象类不是对象类型

```cpp
struct Base {
    virtual void foo() = 0;
};

// ❌ 抽象类不能直接实例化
Base b; // 编译错误
```

因为纯虚函数没有定义，编译器无法创建对象。

---

## 🧠 小结

| 类型类别  | 能否定义对象   | 举例                             |
| ----- | -------- | ------------------------------ |
| 基本类型  | ✅        | `int a;`                       |
| 数组    | ✅（但不能复制） | `int arr[5];`                  |
| 类/结构体 | ✅        | `MyClass obj;`                 |
| 指针    | ✅        | `int* p;`                      |
| 引用    | ❌        | `int& r;`                      |
| 函数类型  | ❌        | `int(int,int)`                 |
| void  | ❌        | `void`                         |
| 抽象类   | ❌        | `struct A { virtual f()=0; };` |